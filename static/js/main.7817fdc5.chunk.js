(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports=a.p+"static/media/chainlink-link-logo.187cdcc7.png"},109:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJEMTFFMDQ1NEZCMTFFQUFDRENGOTUxOEQ2RTg2QkEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJEMTFFMDM1NEZCMTFFQUFDRENGOTUxOEQ2RTg2QkEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIwMjAgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9IkQyNjNERDQwOEVDRUFEMzI5NkMxQkQ0ODhENzkwRkIyIiBzdFJlZjpkb2N1bWVudElEPSJEMjYzREQ0MDhFQ0VBRDMyOTZDMUJENDg4RDc5MEZCMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmL8C7sAAA37SURBVHjarFppkFTVFT7vvqX3ZbpnZQaGfVhk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"},295:function(e,t,a){},296:function(e,t,a){e.exports=a.p+"static/media/order-book-logo.3f4b54c2.png"},298:function(e,t,a){e.exports=a(682)},307:function(e,t,a){},384:function(e,t,a){},397:function(e,t){},399:function(e,t){},495:function(e,t){},535:function(e,t){},567:function(e,t){},568:function(e,t){},573:function(e,t){},575:function(e,t){},582:function(e,t){},601:function(e,t){},649:function(e,t){},651:function(e,t){},671:function(e,t){},676:function(e,t,a){},682:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(170),r=a.n(s),o=(a(307),a(4)),c=a.n(o),l=a(12),u=a(32),d=a(33),p=a(35),m=a(34),h=a(36),y=a(88),k=a.n(y),b=(a(382),a(296)),f=a.n(b),g=(a(384),a(171)),E=a.n(g),B=a(684),v=a(5),T=a.n(v),w=a(13),N=a.n(w),x=a(108),A=a.n(x),O=a(109),L=a.n(O),F=(a(295),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={output:"0",ethBalance:e.ethBalance,tokenBalance:e.tokenBalance,buyTokens:e.buyTokens,web3:e.web3,linkEthPrice:e.linkEthPrice,priceFeedRefreshing:e.priceFeedRefreshing,quantity:0,limitPrice:0,convertToFloat:e.convertToFloat,ethBalanceLoading:e.ethBalanceLoading,linkBalanceLoading:e.linkBalanceLoading},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.priceFeedRefreshing?"Loading...":"1 LINK = "+this.state.linkEthPrice+" ETH",a=this.state.ethBalanceLoading;this.state.ethBalanceLoading;return i.a.createElement("form",{className:"mb-3",onSubmit:function(t){t.preventDefault();var a=e.state.output,n=e.state.limitPrice;e.state.buyTokens(a,n)}},i.a.createElement(N.a,null,i.a.createElement(T.a,{md:6},i.a.createElement("label",{className:"float-left text-muted"},i.a.createElement("b",null,"Input"))),i.a.createElement(T.a,{md:6},i.a.createElement("label",{className:"float-right text-muted"},"Balance:\xa0"," ",this.state.web3.utils.fromWei(this.state.ethBalance.toString(),"Ether")))),i.a.createElement(N.a,{className:"input-group mb-4 order-display"},i.a.createElement(T.a,{md:12},i.a.createElement("input",{type:"text",onChange:function(t){var a=t.target.value,n=parseFloat(a/1e-5).toFixed(8);e.setState({limitPrice:a,output:n})},ref:function(t){e.input=t},className:"form-control form-control-lg order-input",placeholder:"ETH",required:!0,disabled:a}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("div",{className:"input-group-text"},i.a.createElement("img",{src:L.a,height:"32",alt:""}),"ETH")))),i.a.createElement(N.a,null,i.a.createElement(T.a,{md:6},i.a.createElement("label",{className:"float-left text-muted"},i.a.createElement("b",null,"Output"))),i.a.createElement(T.a,{md:6},i.a.createElement("label",{className:"float-right text-muted"},"Balance:\xa0",this.state.web3.utils.fromWei(this.state.tokenBalance.toString(),"Ether")))),i.a.createElement("div",{className:"input-group mb-4 order-display"},i.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"0 LINK",value:this.state.output+" LINK",disabled:!0}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("div",{className:"input-group-text"},i.a.createElement("img",{src:A.a,height:"32",alt:""}),"LINK"))),i.a.createElement("div",{className:"mb-5"},i.a.createElement("span",{className:"float-left text-muted"},"Exchange Rate"),i.a.createElement("span",{className:"float-right text-muted"},t)),i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-lg"},"PLACE ORDER"))}}]),t}(n.Component)),j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={output:"0",ethBalance:e.ethBalance,tokenBalance:e.tokenBalance,sellTokens:e.sellTokens,web3:e.web3,linkEthPrice:e.linkEthPrice,priceFeedRefreshing:e.priceFeedRefreshing,limitPrice:0,convertToFloat:e.convertToFloat,ethBalanceLoading:e.ethBalanceLoading,linkBalanceLoading:e.linkBalanceLoading},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.priceFeedRefreshing?"Loading...":"1 ETH = "+1/this.state.linkEthPrice+" LINK";this.state.ethBalanceLoading,this.state.ethBalanceLoading;return i.a.createElement("form",{className:"mb-3",onSubmit:function(t){t.preventDefault();var a=e.state.output,n=e.state.limitPrice;e.state.sellTokens(a,n)}},i.a.createElement(N.a,null,i.a.createElement(T.a,{md:6},i.a.createElement("label",{className:"float-left text-muted"},i.a.createElement("b",null,"Input"))),i.a.createElement(T.a,{md:6},i.a.createElement("label",{className:"float-right text-muted"},"Balance:\xa0",this.state.web3.utils.fromWei(this.state.tokenBalance.toString(),"Ether")))),i.a.createElement(N.a,{className:"input-group mb-4 order-display"},i.a.createElement(T.a,{md:12},i.a.createElement("input",{type:"text",onChange:function(t){var a=t.target.value,n=parseFloat(1e-4*a).toFixed(18);e.setState({limitPrice:a,output:n})},ref:function(t){e.input=t},className:"form-control form-control-lg order-input",placeholder:"LINK",required:!0}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("div",{className:"input-group-text"},i.a.createElement("img",{src:A.a,height:"32",alt:""}),"LINK")))),i.a.createElement(N.a,null,i.a.createElement(T.a,{md:6},i.a.createElement("label",{className:"float-left text-muted"},i.a.createElement("b",null,"Output"))),i.a.createElement(T.a,{md:6},i.a.createElement("label",{className:"float-right text-muted"},"Balance:\xa0",this.state.web3.utils.fromWei(this.props.ethBalance.toString())))),i.a.createElement("div",{className:"input-group mb-4 order-display"},i.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"0",value:this.state.output+" ETH",disabled:!0}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("div",{className:"input-group-text"},i.a.createElement("img",{src:L.a,height:"32",alt:""}),"ETH"))),i.a.createElement("div",{className:"mb-5"},i.a.createElement("span",{className:"float-left text-muted"},"Exchange Rate"),i.a.createElement("span",{className:"float-right text-muted"},t)),i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-lg"},"PLACE ORDER"))}}]),t}(n.Component),R=(a(676),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={currentForm:"buy",ethBalance:e.ethBalance,tokenBalance:e.tokenBalance,buyTokens:e.buyTokens,sellTokens:e.sellTokens,buySelected:!0,web3:e.web3,linkEthPrice:e.linkEthPrice,priceFeedRefreshing:e.priceFeedRefreshing,linkBalanceLoading:e.linkBalanceLoading,ethBalanceLoading:e.ethBalanceLoading},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"convertToFloat",value:function(e){return parseFloat(e).toFixed(8)}},{key:"render",value:function(){var e,t=this;e="buy"===this.state.currentForm?i.a.createElement(F,{ethBalance:this.state.ethBalance,tokenBalance:this.state.tokenBalance,buyTokens:this.state.buyTokens,web3:this.state.web3,linkEthPrice:this.state.linkEthPrice,priceFeedRefreshing:this.state.priceFeedRefreshing,convertToFloat:this.convertToFloat,linkBalanceLoading:this.state.linkBalanceLoading,ethBalanceLoading:this.state.ethBalanceLoading}):i.a.createElement(j,{ethBalance:this.state.ethBalance,tokenBalance:this.state.tokenBalance,sellTokens:this.state.sellTokens,web3:this.state.web3,linkEthPrice:this.state.linkEthPrice,priceFeedRefreshing:this.state.priceFeedRefreshing,convertToFloat:this.convertToFloat,linkBalanceLoading:this.state.linkBalanceLoading,ethBalanceLoading:this.state.ethBalanceLoading});var a="buy"===this.state.currentForm?"button-selected":"",n="buy"===this.state.currentForm?"":"button-selected";return i.a.createElement("div",{id:"content",className:"mt-3"},i.a.createElement("div",{className:"d-flex justify-content-between mb-3 form-toggle-buttons"},i.a.createElement("button",{className:"btn btn-light "+a,onClick:function(e){t.setState({currentForm:"buy"})}},"Buy"),i.a.createElement("span",{className:"text-muted"},"\xa0 < \xa0\xa0\xa0\xa0\xa0 > \xa0"),i.a.createElement("button",{className:"btn btn-light "+n,onClick:function(e){t.setState({currentForm:"sell"})}},"Sell")),i.a.createElement("div",{className:"card mb-4 dex-main"},i.a.createElement("div",{className:"card-body"},e)))}}]),t}(n.Component)),I=a(297),S=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={priceFeedRefreshing:e.priceFeedRefreshing,linkEthPrice:e.linkEthPrice,orderBook:e.orderBook,ethBalanceLoading:e.ethBalanceLoading,linkBalanceLoading:e.linkBalanceLoading},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"convertToFloat",value:function(e){return parseFloat(e).toFixed(8)}},{key:"render",value:function(){return this.state.priceFeedRefreshing?"Loading asset prices...":i.a.createElement(N.a,null,i.a.createElement(T.a,{md:5}),i.a.createElement(T.a,{md:2}),i.a.createElement(T.a,{md:5},"LINK / ETH: ",this.state.linkEthPrice)),i.a.createElement("div",null,i.a.createElement(N.a,null,i.a.createElement(T.a,{md:5}),i.a.createElement(T.a,{md:2}),i.a.createElement(T.a,{md:5},"LINK / ETH: ",this.state.linkEthPrice)),i.a.createElement(N.a,{className:"order-book"},i.a.createElement("div",{className:"orders-list"},i.a.createElement(I.a,{showSpread:!1,applyBackgroundColor:!0,book:this.state.orderBook,stylePrefix:"",showHeaders:!0}))))}}]),t}(n.Component),C=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],D=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"transferAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_subtractedValue",type:"uint256"}],name:"decreaseApproval",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_addedValue",type:"uint256"}],name:"increaseApproval",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],G=[{inputs:[{internalType:"string",name:"_id",type:"string"},{internalType:"bool",name:"_buy",type:"bool"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"},{internalType:"address",name:"_account",type:"address"},{internalType:"address",name:"_asset",type:"address"}],name:"createOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAsks",outputs:[{components:[{internalType:"string",name:"orderId",type:"string"},{internalType:"address",name:"maker",type:"address"},{internalType:"address",name:"makeAsset",type:"address"},{internalType:"uint256",name:"makeAmount",type:"uint256"},{internalType:"address",name:"taker",type:"address"},{internalType:"address",name:"takeAsset",type:"address"},{internalType:"uint256",name:"takeAmount",type:"uint256"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bool",name:"buy",type:"bool"}],internalType:"struct OrderBook.Order[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBids",outputs:[{components:[{internalType:"string",name:"orderId",type:"string"},{internalType:"address",name:"maker",type:"address"},{internalType:"address",name:"makeAsset",type:"address"},{internalType:"uint256",name:"makeAmount",type:"uint256"},{internalType:"address",name:"taker",type:"address"},{internalType:"address",name:"takeAsset",type:"address"},{internalType:"uint256",name:"takeAmount",type:"uint256"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bool",name:"buy",type:"bool"}],internalType:"struct OrderBook.Order[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],M=a(678),H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).loadTokenBalance=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.chainlinkToken.methods.balanceOf(a.state.account).call();case 2:t=e.sent,a.setState({chainlinkBalance:t}),a.setState({linkBalanceLoading:!1});case 5:case"end":return e.stop()}},e)})),a.loadOrderBook=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getBids();case 2:return e.next=4,a.getAsks();case 4:case"end":return e.stop()}},e)})),a.loadEthBalance=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({ethBalanceLoading:!0}),e.next=3,a.state.web3.eth.getBalance(a.state.account).then(function(e){return a.setState({ethBalance:e}),a.setState({ethBalanceLoading:!1}),e});case 3:e.sent;case 4:case"end":return e.stop()}},e)})),a.loadLinkEthPrice=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.web3,a.state.priceFeedInitialLoad||a.setState({priceFeedRefreshing:!0}),a.state.priceFeed&&a.state.priceFeed.methods.latestRoundData().call().then(function(e){if(e.answer&&e.answer._hex){var n=t.utils.fromWei(e.answer._hex),i=parseFloat(n).toFixed(18);a.setState({linkEthPrice:i.toString()}),a.state.priceFeedInitialLoad?a.setState({priceFeedInitialLoad:!1}):a.setState({priceFeedRefreshing:!1})}});case 3:case"end":return e.stop()}},e)})),a.formatOrderQuantity=function(e,t){for(var a=""+parseFloat(e).toFixed(5);a.length<t;)a="0"+a;return a},a.spacer=function(){return"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"},a.buyTokens=function(){var e=Object(l.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=3;break}return e.next=3,a.executeBuyTokenTransaction(t,n);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.sellTokens=function(){var e=Object(l.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=3;break}return e.next=3,a.executeSellTokenTransaction(t,n);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.getBids=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.orderBookContract&&(a.setState({bidsLoading:!0}),console.log("bids loading: "+a.state.bidsLoading),a.state.orderBookContract.methods.getBids().call().then(function(e){if(e){var t=a.state.orderBook.asks,n=a.state.orderBook.bids;n.length=0,n.push(["0"]),a.setState({asks:t,bids:n});var i=a.mapResponseToOrders(e),s=a.sortBids(i);a.mapBidsToOrderBook(s,n),a.setState({orderBook:{asks:t,bids:n}})}a.setState({bidsLoading:!1}),console.log("bids loading: "+a.state.bidsLoading)}));case 1:case"end":return e.stop()}},e)})),a.getAsks=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.orderBookContract&&(a.setState({asksLoading:!0}),a.state.orderBookContract.methods.getAsks().call().then(function(e){if(e){var t=a.state.orderBook.bids,n=a.state.orderBook.asks;n.length=0,n.push(["0"]),a.setState({asks:n,bids:t});var i=a.mapResponseToOrders(e),s=a.sortBids(i);a.mapAsksToOrderBook(s,n),a.setState({orderBook:{asks:n,bids:t}}),console.log("bids: "+a.state.orderBook.bids),console.log("asks: "+a.state.orderBook.asks)}a.setState({asksLoading:!1}),console.log("asks loading: "+a.state.asksLoading)}));case 1:case"end":return e.stop()}},e)})),a.state={ethBalance:"0",ethBalanceLoading:!1,tokenBalance:"0",account:"",loading:!1,sortedBids:[],sortedAsks:[],orderBook:{asks:[["0"]],bids:[["0"]]},priceFeedAddress:"0x4d38a35C2D87976F334c2d2379b535F1D461D9B4",priceFeed:"",priceFeedRefreshing:!1,priceFeedInitialLoad:!1,chainlinkTokenAddress:"0x01BE23585060835E02B77ef475b0Cc51aA1e0709",chainlinkToken:"",chainlinkBalance:"0",linkBalanceLoading:!1,linkEthPrice:"0",ethPrice:0,ethPriceLoading:!1,linkEthRefreshRate:15e3,orderBookContractAddress:"0x7383deA1f066F424Fb3A989e4277Ade74F9d9ad1",orderBookContract:"",orderBookIndex:{quantity:3,price:10,isDeleted:12},bidTransactionPending:!1,bidTransactionComplete:!1,askTransactionPending:!1,askTransactionComplete:!1,bidsLoading:!1,asksLoading:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadWeb3();case 2:return e.next=4,this.loadBlockchainData();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setInterval(this.loadLinkEthPrice,this.state.linkEthRefreshRate);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadWeb3",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.enableLoadingFlags(),t=new E.a(E.a.givenProvider),this.setState({web3:t});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadBlockchainData",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.web3,this.loadPriceFeedContract(),e.next=4,t.eth.getAccounts();case 4:return a=e.sent,this.setState({account:a[0]}),e.next=8,this.loadOrderBookContract();case 8:return e.next=10,this.loadEthBalance();case 10:return e.next=12,this.loadChainlinkToken();case 12:return e.next=14,this.loadTokenBalance();case 14:return e.next=16,this.loadLinkEthPrice();case 16:return e.next=18,this.loadOrderBook();case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"enableLoadingFlags",value:function(){this.setState({ethBalanceLoading:!0,linkBalanceLoading:!0,priceFeedInitialLoad:!0})}},{key:"loadPriceFeedContract",value:function(){var e=new this.state.web3.eth.Contract(C,this.state.priceFeedAddress);this.setState({priceFeed:e})}},{key:"loadOrderBookContract",value:function(){var e=new this.state.web3.eth.Contract(G,this.state.orderBookContractAddress);this.setState({orderBookContract:e})}},{key:"loadChainlinkToken",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.web3,a=new t.eth.Contract(D,this.state.chainlinkTokenAddress),this.setState({chainlinkToken:a});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"executeBuyTokenTransaction",value:function(){var e=Object(l.a)(c.a.mark(function e(t,a){var n,i,s,r,o,l,u,d,p=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.web3.utils.toWei(a),i=this.state.web3.utils.toHex(n),s=this.state.web3.utils.toWei(t.toString()),r=!0,o=this.state.account,l=this.state.chainlinkTokenAddress,u=M(),e.next=9,this.state.orderBookContract.methods.createOrder(u,r,i,s,o,l).estimateGas();case 9:return d=e.sent,e.next=12,this.state.orderBookContract.methods.createOrder(u,r,i,s,o,l).send({from:this.state.account,gas:d}).once("transactionHash",function(e){console.log("hash:"+e),p.setState({bidTransactionPending:!0})}).on("confirmation",function(e,t){console.log("confNumber:"+e),console.log("receipt:"+t),t&&!p.state.bidTransactionComplete&&(p.setState({bidTransactionComplete:!0}),p.setState({bidTransactionPending:!1}),p.getBids(),console.log("Receipt returned"))}).on("error",function(e){console.log("error:"+e)});case 12:e.sent;case 13:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"executeSellTokenTransaction",value:function(){var e=Object(l.a)(c.a.mark(function e(t,a){var n,i,s,r,o,l,u,d,p=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.web3.utils.toWei(a),i=this.state.web3.utils.toHex(n),s=this.state.web3.utils.toWei(t.toString()),r=!1,o=this.state.account,l=this.state.chainlinkTokenAddress,u=M(),e.next=9,this.state.orderBookContract.methods.createOrder(u,r,i,s,o,l).estimateGas();case 9:return d=e.sent,e.next=12,this.state.orderBookContract.methods.createOrder(u,r,i,s,o,l).send({from:this.state.account,gas:d}).once("transactionHash",function(e){console.log("hash:"+e),p.setState({askTransactionComplete:!1}),p.setState({askTransactionPending:!0})}).on("confirmation",function(e,t){console.log("confNumber:"+e),console.log("receipt:"+t),t&&!p.state.askTransactionComplete&&(p.setState({askTransactionComplete:!0}),p.setState({askTransactionPending:!1}),p.getAsks(),console.log("Receipt returned"))}).on("error",function(e){console.log("error:"+e)});case 12:e.sent;case 13:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"mapResponseToOrders",value:function(e){var t=this,a=[],n=this.state.orderBookIndex.quantity,i=this.state.orderBookIndex.price,s=this.state.orderBookIndex.isDeleted;return e.forEach(function(e){var r=e[n],o=t.state.web3.utils.fromWei(r.toString()),c=e[i],l=t.state.web3.utils.fromWei(c.toString());e[s]||a.push({quantity:o,price:l})}),a}},{key:"mapBidsToOrderBook",value:function(e,t){var a=this;e.forEach(function(e){t.push([e.price+" ETH"+a.spacer(),a.formatOrderQuantity(e.quantity,20)+" LINK"])})}},{key:"mapAsksToOrderBook",value:function(e,t){var a=this;e.forEach(function(e){t.push([e.price+" ETH"+a.spacer(),a.formatOrderQuantity(e.quantity,20)+" LINK"])})}},{key:"loadAsksDisplay",value:function(e){var t=this,a=this.state.orderBook.bids;this.setState({asks:[["0"]],bids:a});var n=this.state.orderBook.asks;e.forEach(function(e){n.push([e.price+" ETH"+t.spacer(),t.formatOrderQuantity(e.quantity,20)+" LINK"])}),this.setState({orderBook:{asks:n,bids:a}})}},{key:"sortBids",value:function(e){return e.sort(function(e,t){return t.price-e.price})}},{key:"sortAsks",value:function(e){return e.sort(function(e,t){return e.price-t.price})}},{key:"render",value:function(){var e,t,a=i.a.createElement("a",{id:"loader",className:"text-center"},"Loading...");e=this.state.ethBalanceLoading||this.state.linkBalanceLoading||this.state.priceFeedInitialLoad?a:i.a.createElement(R,{ethBalanceLoading:this.state.ethBalanceLoading,ethBalance:this.state.ethBalance,linkBalanceLoading:this.state.linkBalanceLoading,tokenBalance:this.state.chainlinkBalance,buyTokens:this.buyTokens,sellTokens:this.sellTokens,web3:this.state.web3,priceFeedRefreshing:this.state.priceFeedRefreshing,linkEthPrice:this.state.linkEthPrice}),t=this.state.priceFeedInitialLoad||this.state.bidsLoading||this.state.asksLoading?a:i.a.createElement(S,{priceFeedRefreshing:this.state.priceFeedRefreshing,linkEthPrice:this.state.linkEthPrice,orderBook:this.state.orderBook});var n=i.a.createElement(k.a,{bsStyle:"info",className:"centeralign"},i.a.createElement(k.a.Heading,null,i.a.createElement(k.a.Title,{componentClass:"h3"},"Disclaimer")),i.a.createElement(k.a.Body,null,i.a.createElement("p",null,"In order for this app to load successfully, you must have a Metamask account that is connected to the Rinkeby testnet (Ethereum). You must also have test ETH in your account to be able to place your order.")));return i.a.createElement(B.a,{basename:"/on-chain-order-book"},i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",{className:"App-title"},"DApp Challenge!"),i.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),i.a.createElement("h1",{className:"App-title"},"ERC20 Order Book")),i.a.createElement(N.a,null,i.a.createElement(T.a,{md:1}),i.a.createElement(T.a,{md:5,className:"dex-window"},e),i.a.createElement(T.a,{md:1}),i.a.createElement(T.a,{md:4},t),i.a.createElement(T.a,{md:1})),i.a.createElement(N.a,{className:"disclaimer"},i.a.createElement(T.a,{md:12},n))))}}]),t}(n.Component),P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(i.a.createElement(H,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/on-chain-order-book",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/on-chain-order-book","/service-worker.js");P?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Z(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Z(e)})}}()}},[[298,2,1]]]);
//# sourceMappingURL=main.7817fdc5.chunk.js.map
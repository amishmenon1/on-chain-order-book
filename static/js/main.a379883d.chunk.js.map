{"version":3,"sources":["chainlink-link-logo.png","eth-logo.png","order-book-logo.png","BuyForm.js","SellForm.js","FormToggle.js","OrderBookPanel.js","abis/AggregatorV3InterfaceABI.js","abis/ChainlinkTokenABI.js","abis/OrderBookContractABI.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","BuyForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","output","ethBalance","tokenBalance","buyTokens","web3","linkEthPrice","priceFeedRefreshing","quantity","limitPrice","convertToFloat","ethBalanceLoading","linkBalanceLoading","calculateOutputValue","_this2","exchangeRateDisplay","limitPriceInputDisabled","react_default","a","createElement","className","onSubmit","event","preventDefault","Row_default","Col_default","md","utils","fromWei","toString","type","onChange","target","value","parseFloat","toFixed","setState","ref","input","placeholder","required","disabled","src","ethLogo","height","alt","tokenLogo","Component","SellForm","sellTokens","FormToggle","currentForm","buySelected","number","price","actualPrice","content","src_BuyForm","src_SellForm","buySelectionStyle","sellSelectionStyle","id","onClick","OrderBookPanel","orderBook","index_modern","showSpread","applyBackgroundColor","book","stylePrefix","showHeaders","AggregatorV3InterfaceABI","inputs","name","outputs","internalType","stateMutability","ChainlinkTokenABI","constant","payable","anonymous","indexed","OrderBookContractABI","components","uuidv4","require","App","loadTokenBalance","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","chainlinkToken","methods","balanceOf","account","sent","chainlinkBalance","stop","loadOrderBook","_callee2","_context2","getBids","getAsks","loadEthBalance","_callee3","_context3","eth","getBalance","then","balance","loadLinkEthPrice","_callee4","_context4","priceFeedInitialLoad","priceFeed","latestRoundData","priceResponse","answer","_hex","formattedLinkEthPrice","formatOrderQuantity","length","stringNum","spacer","_ref5","_callee5","tokenAmount","bidPriceInEth","_context5","executeBuyTokenTransaction","_x","_x2","apply","arguments","_ref6","_callee6","askPriceInEth","_context6","executeSellTokenTransaction","_x3","_x4","_callee7","_context7","orderBookContract","bidsLoading","console","log","bidArray","asks","updatedBids","bids","push","bidOrders","mapResponseToOrders","sortedBids","sortBids","mapBidsToOrderBook","_callee8","_context8","asksLoading","askArray","updatedAsks","askOrders","sortedAsks","mapAsksToOrderBook","loading","priceFeedAddress","chainlinkTokenAddress","ethPrice","ethPriceLoading","linkEthRefreshRate","orderBookContractAddress","orderBookIndex","isDeleted","bidTransactionPending","bidTransactionComplete","askTransactionPending","askTransactionComplete","loadWeb3","loadBlockchainData","setInterval","enableLoadingFlags","Web3","givenProvider","loadPriceFeedContract","getAccounts","accounts","loadOrderBookContract","loadChainlinkToken","Contract","priceInWei","toWei","hexPrice","toHex","quantityInWei","isBuy","asset","uuid","createOrder","estimateGas","gas","send","from","once","hash","on","confNumber","receipt","error","_this3","orderResponse","_this4","orders","quantityIndex","priceIndex","deletedIndex","forEach","element","bidQuantity","bidPrice","_this5","bid","_this6","ask","_this7","unsortedBids","sort","current","unsortedAsks","userPanelContent","orderBookPanelContent","loadingContent","src_FormToggle_0","src_OrderBookPanel","BrowserRouter","basename","process","logo","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","render","src_App_0","document","getElementById","URL","origin","addEventListener","concat","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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CN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,SACN3C,KAAM,YAGV2C,KAAM,cACNC,QAAS,GACTE,gBAAiB,aACjB9C,KAAM,YAER,CACE0C,OAAQ,GACRC,KAAM,UACNC,QAAS,CACP,CACES,WAAY,CACV,CACER,aAAc,SACdF,KAAM,UACN3C,KAAM,UAER,CACE6C,aAAc,UACdF,KAAM,QACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,YACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,aACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,QACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,YACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,aACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,OACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,aACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,WACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,QACN3C,KAAM,WAER,CACE6C,aAAc,OACdF,KAAM,MACN3C,KAAM,SAGV6C,aAAc,2BACdF,KAAM,GACN3C,KAAM,YAGV8C,gBAAiB,OACjB9C,KAAM,YAER,CACE0C,OAAQ,GACRC,KAAM,UACNC,QAAS,CACP,CACES,WAAY,CACV,CACER,aAAc,SACdF,KAAM,UACN3C,KAAM,UAER,CACE6C,aAAc,UACdF,KAAM,QACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,YACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,aACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,QACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,YACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,aACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,OACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,aACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,WACN3C,KAAM,WAER,CACE6C,aAAc,UACdF,KAAM,QACN3C,KAAM,WAER,CACE6C,aAAc,OACdF,KAAM,MACN3C,KAAM,SAGV6C,aAAc,2BACdF,KAAM,GACN3C,KAAM,YAGV8C,gBAAiB,OACjB9C,KAAM,aC7KXsD,EAASC,EAAQ,KA6fRC,cA1fb,SAAAA,EAAY9F,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0F,IACjB7F,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4F,GAAAvF,KAAAH,KAAMJ,KAkHR+F,iBAnHmB7F,OAAA8F,EAAA,EAAA9F,CAAA+F,EAAAvE,EAAAwE,KAmHA,SAAAC,IAAA,IAAAxF,EAAA,OAAAsF,EAAAvE,EAAA0E,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACUtG,EAAKO,MAAMgG,eAAeC,QAClDC,UAAUzG,EAAKO,MAAMmG,SACrBpG,OAHc,OACXI,EADW0F,EAAAO,KAIjB3G,EAAK2C,SAAS,CAAEiE,iBAAkBlG,IAClCV,EAAK2C,SAAS,CAAExB,oBAAoB,IALnB,wBAAAiF,EAAAS,SAAAX,MAnHAlG,EA2HnB8G,cA3HmB7G,OAAA8F,EAAA,EAAA9F,CAAA+F,EAAAvE,EAAAwE,KA2HH,SAAAc,IAAA,OAAAf,EAAAvE,EAAA0E,KAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,cAAAU,EAAAV,KAAA,EACRtG,EAAKiH,UADG,cAAAD,EAAAV,KAAA,EAERtG,EAAKkH,UAFG,wBAAAF,EAAAH,SAAAE,MA3HG/G,EAgInBmH,eAhImBlH,OAAA8F,EAAA,EAAA9F,CAAA+F,EAAAvE,EAAAwE,KAgIF,SAAAmB,IAAA,OAAApB,EAAAvE,EAAA0E,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cACftG,EAAK2C,SAAS,CAAEzB,mBAAmB,IADpBmG,EAAAf,KAAA,EAEOtG,EAAKO,MAAMK,KAAK0G,IACnCC,WAAWvH,EAAKO,MAAMmG,SACtBc,KAAK,SAACC,GAKL,OAJAzH,EAAK2C,SAAS,CAAElC,WAAYgH,IAC5BzH,EAAK2C,SAAS,CACZzB,mBAAmB,IAEduG,IATI,OAAAJ,EAAAV,KAAA,wBAAAU,EAAAR,SAAAO,MAhIEpH,EA6InB0H,iBA7ImBzH,OAAA8F,EAAA,EAAA9F,CAAA+F,EAAAvE,EAAAwE,KA6IA,SAAA0B,IAAA,IAAA/G,EAAA,OAAAoF,EAAAvE,EAAA0E,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,OACX1F,EAAOZ,EAAKO,MAAMK,KACnBZ,EAAKO,MAAMsH,sBACd7H,EAAK2C,SAAS,CAAE7B,qBAAqB,IAEnCd,EAAKO,MAAMuH,WACb9H,EAAKO,MAAMuH,UAAUtB,QAClBuB,kBACAzH,OACAkH,KAAK,SAACQ,GACL,GAAIA,EAAcC,QAAUD,EAAcC,OAAOC,KAAM,CACrD,IAAMrH,EAAeD,EAAKsB,MAAMC,QAAQ6F,EAAcC,OAAOC,MACvDC,EAAwB1F,WAAW5B,GAAc6B,QAAQ,IAC/D1C,EAAK2C,SAAS,CAAE9B,aAAcsH,EAAsB/F,aAChDpC,EAAKO,MAAMsH,qBACb7H,EAAK2C,SAAS,CAAEkF,sBAAsB,IAEtC7H,EAAK2C,SAAS,CAAE7B,qBAAqB,OAjB9B,wBAAA8G,EAAAf,SAAAc,MA7IA3H,EAqKnBoI,oBAAsB,SAACxE,EAAQyE,GAG7B,IAFA,IACIC,EAAY,GADN7F,WAAWmB,GAAQlB,QAAQ,GAE9B4F,EAAUD,OAASA,GACxBC,EAAY,IAAMA,EAGpB,OAAOA,GA5KUtI,EA+KnBuI,OAAS,WACP,MAAO,4CAhLUvI,EAqQnBW,UArQmB,eAAA6H,EAAAvI,OAAA8F,EAAA,EAAA9F,CAAA+F,EAAAvE,EAAAwE,KAqQP,SAAAwC,EAAOC,EAAaC,GAApB,OAAA3C,EAAAvE,EAAA0E,KAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,WACNoC,IAAeC,EADT,CAAAC,EAAAtC,KAAA,eAAAsC,EAAAtC,KAAA,EAEFtG,EAAK6I,2BAA2BH,EAAaC,GAF3C,wBAAAC,EAAA/B,SAAA4B,MArQO,gBAAAK,EAAAC,GAAA,OAAAP,EAAAQ,MAAA7I,KAAA8I,YAAA,GAAAjJ,EA2QnBwD,WA3QmB,eAAA0F,EAAAjJ,OAAA8F,EAAA,EAAA9F,CAAA+F,EAAAvE,EAAAwE,KA2QN,SAAAkD,EAAOT,EAAaU,GAApB,OAAApD,EAAAvE,EAAA0E,KAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,WACPoC,IAAeU,EADR,CAAAC,EAAA/C,KAAA,eAAA+C,EAAA/C,KAAA,EAEHtG,EAAKsJ,4BAA4BZ,EAAaU,GAF3C,wBAAAC,EAAAxC,SAAAsC,MA3QM,gBAAAI,EAAAC,GAAA,OAAAN,EAAAF,MAAA7I,KAAA8I,YAAA,GAAAjJ,EAiRnBiH,QAjRmBhH,OAAA8F,EAAA,EAAA9F,CAAA+F,EAAAvE,EAAAwE,KAiRT,SAAAwD,IAAA,OAAAzD,EAAAvE,EAAA0E,KAAA,SAAAuD,GAAA,cAAAA,EAAArD,KAAAqD,EAAApD,MAAA,OACJtG,EAAKO,MAAMoJ,oBACb3J,EAAK2C,SAAS,CACZiH,aAAa,IAEfC,QAAQC,IAAI,iBAAmB9J,EAAKO,MAAMqJ,aAC1C5J,EAAKO,MAAMoJ,kBAAkBnD,QAC1BS,UACA3G,OACAkH,KAAK,SAACuC,GACL,GAAIA,EAAU,CACZ,IAAIC,EAAOhK,EAAKO,MAAMgE,UAAUyF,KAC5BC,EAAcjK,EAAKO,MAAMgE,UAAU2F,KACvCD,EAAY5B,OAAS,EACrB4B,EAAYE,KAAK,CAAC,MAClBnK,EAAK2C,SAAS,CACZqH,KAAMA,EACNE,KAAMD,IAER,IAAMG,EAAYpK,EAAKqK,oBAAoBN,GACrCO,EAAatK,EAAKuK,SAASH,GACjCpK,EAAKwK,mBAAmBF,EAAYL,GACpCjK,EAAK2C,SAAS,CACZ4B,UAAW,CACTyF,KAAMA,EACNE,KAAMD,KAIZjK,EAAK2C,SAAS,CACZiH,aAAa,IAEfC,QAAQC,IAAI,iBAAmB9J,EAAKO,MAAMqJ,gBAhCxC,wBAAAF,EAAA7C,SAAA4C,MAjRSzJ,EAsTnBkH,QAtTmBjH,OAAA8F,EAAA,EAAA9F,CAAA+F,EAAAvE,EAAAwE,KAsTT,SAAAwE,IAAA,OAAAzE,EAAAvE,EAAA0E,KAAA,SAAAuE,GAAA,cAAAA,EAAArE,KAAAqE,EAAApE,MAAA,OACJtG,EAAKO,MAAMoJ,oBACb3J,EAAK2C,SAAS,CACZgI,aAAa,IAEf3K,EAAKO,MAAMoJ,kBAAkBnD,QAC1BU,UACA5G,OACAkH,KAAK,SAACoD,GACL,GAAIA,EAAU,CACZ,IAAIV,EAAOlK,EAAKO,MAAMgE,UAAU2F,KAC5BW,EAAc7K,EAAKO,MAAMgE,UAAUyF,KACvCa,EAAYxC,OAAS,EACrBwC,EAAYV,KAAK,CAAC,MAClBnK,EAAK2C,SAAS,CACZqH,KAAMa,EACNX,KAAMA,IAER,IAAMY,EAAY9K,EAAKqK,oBAAoBO,GACrCG,EAAa/K,EAAKuK,SAASO,GACjC9K,EAAKgL,mBAAmBD,EAAYF,GACpC7K,EAAK2C,SAAS,CACZ4B,UAAW,CACTyF,KAAMa,EACNX,KAAMA,KAGVL,QAAQC,IAAI,SAAW9J,EAAKO,MAAMgE,UAAU2F,MAC5CL,QAAQC,IAAI,SAAW9J,EAAKO,MAAMgE,UAAUyF,MAE9ChK,EAAK2C,SAAS,CACZgI,aAAa,IAEfd,QAAQC,IAAI,iBAAmB9J,EAAKO,MAAMoK,gBAjCxC,wBAAAD,EAAA7D,SAAA4D,MApTRzK,EAAKO,MAAQ,CACXE,WAAY,IACZS,mBAAmB,EACnBR,aAAc,IACdgG,QAAS,GACTuE,SAAS,EACTX,WAAY,GACZS,WAAY,GACZxG,UAAW,CACTyF,KAAM,CAAC,CAAC,MACRE,KAAM,CAAC,CAAC,OAEVgB,iBAAkB,6CAClBpD,UAAW,GACXhH,qBAAqB,EACrB+G,sBAAsB,EACtBsD,sBAAuB,6CACvB5E,eAAgB,GAChBK,iBAAkB,IAClBzF,oBAAoB,EACpBN,aAAc,IACduK,SAAU,EACVC,iBAAiB,EACjBC,mBAAoB,KAEpBC,yBAA0B,6CAC1B5B,kBAAmB,GACnB6B,eAAgB,CACdzK,SAAU,EACV8C,MAAO,GACP4H,UAAW,IAEbC,uBAAuB,EACvBC,wBAAwB,EACxBC,uBAAuB,EACvBC,wBAAwB,EACxBjC,aAAa,EACbe,aAAa,GAvCE3K,4MA4CXG,KAAK2L,kCACL3L,KAAK4L,2QAKXC,YAAY7L,KAAKuH,iBAAkBvH,KAAKI,MAAM+K,uQAI9CnL,KAAK8L,qBACCrL,EAAO,IAAIsL,IAAKA,IAAKC,eAC3BhM,KAAKwC,SAAS,CAAE/B,+QAKVA,EAAOT,KAAKI,MAAMK,KAGxBT,KAAKiM,iCAGkBxL,EAAK0G,IAAI+E,4BAA1BC,SACNnM,KAAKwC,SAAS,CACZ+D,QAAS4F,EAAS,cAGdnM,KAAKoM,gDACLpM,KAAKgH,0CACLhH,KAAKqM,8CACLrM,KAAK2F,4CACL3F,KAAKuH,4CACLvH,KAAK2G,gKAIX3G,KAAKwC,SAAS,CACZzB,mBAAmB,EACnBC,oBAAoB,EACpB0G,sBAAsB,oDAKxB,IACMC,EAAY,IADL3H,KAAKI,MAAMK,KACG0G,IAAImF,SAC7B3H,EACA3E,KAAKI,MAAM2K,kBAEb/K,KAAKwC,SAAS,CAAEmF,8DAIhB,IACM6B,EAAoB,IADbxJ,KAAKI,MAAMK,KACW0G,IAAImF,SACrChH,EACAtF,KAAKI,MAAMgL,0BAEbpL,KAAKwC,SAAS,CAAEgH,mLAIV/I,EAAOT,KAAKI,MAAMK,KAClB2F,EAAiB,IAAI3F,EAAK0G,IAAImF,SAClCrH,EACAjF,KAAKI,MAAM4K,uBAEbhL,KAAKwC,SAAS,CAAE4D,gNAsEemC,EAAaC,qGACtC+D,EAAavM,KAAKI,MAAMK,KAAKsB,MAAMyK,MAAMhE,GACzCiE,EAAWzM,KAAKI,MAAMK,KAAKsB,MAAM2K,MAAMH,GACvCI,EAAgB3M,KAAKI,MAAMK,KAAKsB,MAAMyK,MAAMjE,EAAYtG,YACxD2K,GAAQ,EACRrG,EAAUvG,KAAKI,MAAMmG,QACrBsG,EAAQ7M,KAAKI,MAAM4K,sBACnB8B,EAAOtH,aAGKxF,KAAKI,MAAMoJ,kBAAkBnD,QAC5C0G,YAAYD,EAAMF,EAAOH,EAAUE,EAAepG,EAASsG,GAC3DG,4BAFGC,mBAGuBjN,KAAKI,MAAMoJ,kBAAkBnD,QACvD0G,YAAYD,EAAMF,EAAOH,EAAUE,EAAepG,EAASsG,GAC3DK,KAAK,CACJC,KAAMnN,KAAKI,MAAMmG,QACjB0G,QAEDG,KAAK,kBAAmB,SAACC,GACxB3D,QAAQC,IAAI,QAAU0D,GACtBnM,EAAKsB,SAAS,CAAE+I,uBAAuB,MAExC+B,GAAG,eAAgB,SAACC,EAAYC,GAC/B9D,QAAQC,IAAI,cAAgB4D,GAC5B7D,QAAQC,IAAI,WAAa6D,GACrBA,IAAYtM,EAAKd,MAAMoL,yBACzBtK,EAAKsB,SAAS,CAAEgJ,wBAAwB,IACxCtK,EAAKsB,SAAS,CAAE+I,uBAAuB,IACvCrK,EAAK4F,UAEL4C,QAAQC,IAAI,uBAGf2D,GAAG,QAAS,SAACG,GACZ/D,QAAQC,IAAI,SAAW8D,sNAIKlF,EAAaU,qGACvCsD,EAAavM,KAAKI,MAAMK,KAAKsB,MAAMyK,MAAMvD,GACzCwD,EAAWzM,KAAKI,MAAMK,KAAKsB,MAAM2K,MAAMH,GACvCI,EAAgB3M,KAAKI,MAAMK,KAAKsB,MAAMyK,MAAMjE,EAAYtG,YACxD2K,GAAQ,EACRrG,EAAUvG,KAAKI,MAAMmG,QACrBsG,EAAQ7M,KAAKI,MAAM4K,sBACnB8B,EAAOtH,aAGKxF,KAAKI,MAAMoJ,kBAAkBnD,QAC5C0G,YAAYD,EAAMF,EAAOH,EAAUE,EAAepG,EAASsG,GAC3DG,4BAFGC,mBAGuBjN,KAAKI,MAAMoJ,kBAAkBnD,QACvD0G,YAAYD,EAAMF,EAAOH,EAAUE,EAAepG,EAASsG,GAC3DK,KAAK,CACJC,KAAMnN,KAAKI,MAAMmG,QACjB0G,QAEDG,KAAK,kBAAmB,SAACC,GACxB3D,QAAQC,IAAI,QAAU0D,GACtBK,EAAKlL,SAAS,CAAEkJ,wBAAwB,IACxCgC,EAAKlL,SAAS,CAAEiJ,uBAAuB,MAExC6B,GAAG,eAAgB,SAACC,EAAYC,GAC/B9D,QAAQC,IAAI,cAAgB4D,GAC5B7D,QAAQC,IAAI,WAAa6D,GACrBA,IAAYE,EAAKtN,MAAMsL,yBACzBgC,EAAKlL,SAAS,CAAEkJ,wBAAwB,IACxCgC,EAAKlL,SAAS,CAAEiJ,uBAAuB,IACvCiC,EAAK3G,UAEL2C,QAAQC,IAAI,uBAGf2D,GAAG,QAAS,SAACG,GACZ/D,QAAQC,IAAI,SAAW8D,sKA2FTE,GAAe,IAAAC,EAAA5N,KAC3B6N,EAAS,GACTC,EAAgB9N,KAAKI,MAAMiL,eAAezK,SAC1CmN,EAAa/N,KAAKI,MAAMiL,eAAe3H,MACvCsK,EAAehO,KAAKI,MAAMiL,eAAeC,UAiB/C,OAfAqC,EAAcM,QAAQ,SAACC,GACrB,IAAMvB,EAAgBuB,EAAQJ,GACxBK,EAAcP,EAAKxN,MAAMK,KAAKsB,MAAMC,QACxC2K,EAAc1K,YAEVsK,EAAa2B,EAAQH,GACrBK,EAAWR,EAAKxN,MAAMK,KAAKsB,MAAMC,QAAQuK,EAAWtK,YACrDiM,EAAQF,IACXH,EAAO7D,KAAK,CACVpJ,SAAUuN,EACVzK,MAAO0K,MAKNP,6CAGU1D,EAAYL,GAAa,IAAAuE,EAAArO,KAC1CmK,EAAW8D,QAAQ,SAACK,GAClBxE,EAAYE,KAAK,CACfsE,EAAI5K,MAAQ,OAAS2K,EAAKjG,SAC1BiG,EAAKpG,oBAAoBqG,EAAI1N,SAAU,IAAM,uDAKhCgK,EAAYF,GAAa,IAAA6D,EAAAvO,KAC1C4K,EAAWqD,QAAQ,SAACO,GAClB9D,EAAYV,KAAK,CACfwE,EAAI9K,MAAQ,OAAS6K,EAAKnG,SAC1BmG,EAAKtG,oBAAoBuG,EAAI5N,SAAU,IAAM,oDAKnCgK,GAAY,IAAA6D,EAAAzO,KACtB+J,EAAO/J,KAAKI,MAAMgE,UAAU2F,KAChC/J,KAAKwC,SAAS,CACZqH,KAAM,CAAC,CAAC,MACRE,KAAMA,IAER,IAAIW,EAAc1K,KAAKI,MAAMgE,UAAUyF,KACvCe,EAAWqD,QAAQ,SAACO,GAClB9D,EAAYV,KAAK,CACfwE,EAAI9K,MAAQ,OAAS+K,EAAKrG,SAC1BqG,EAAKxG,oBAAoBuG,EAAI5N,SAAU,IAAM,YAGjDZ,KAAKwC,SAAS,CACZ4B,UAAW,CACTyF,KAAMa,EACNX,KAAMA,sCAKH2E,GAIP,OAHeA,EAAaC,KAC1B,SAACC,EAASzI,GAAV,OAAmBA,EAAKzC,MAAQkL,EAAQlL,yCAKnCmL,GAIP,OAHeA,EAAaF,KAC1B,SAACC,EAASzI,GAAV,OAAmByI,EAAQlL,MAAQyC,EAAKzC,kDAM1CgG,QAAQC,IAAI,2BAA6B3J,KAAKI,MAAMsL,wBACpDhC,QAAQC,IAAI,0BAA4B3J,KAAKI,MAAMqL,uBACnD/B,QAAQC,IAAI,gBAAkB3J,KAAKI,MAAMoK,aACzCd,QAAQC,IAAI,2BAA6B3J,KAAKI,MAAMoL,wBACpD9B,QAAQC,IAAI,0BAA4B3J,KAAKI,MAAMmL,uBACnD7B,QAAQC,IAAI,gBAAkB3J,KAAKI,MAAMqJ,aACzCC,QAAQC,IAAI,sBAAwB3J,KAAKI,MAAMW,mBAC/C2I,QAAQC,IAAI,uBAAyB3J,KAAKI,MAAMY,qDAIhD,IAMI8N,EAwBAC,EA9BAC,EACF3N,EAAAC,EAAAC,cAAA,KAAG0C,GAAG,SAASzC,UAAU,eAAzB,cA8CF,OAlCEsN,EAJA9O,KAAKI,MAAMW,mBACXf,KAAKI,MAAMY,oBACXhB,KAAKI,MAAMsH,qBAEQsH,EAGjB3N,EAAAC,EAAAC,cAAC0N,EAAD,CACElO,kBAAmBf,KAAKI,MAAMW,kBAC9BT,WAAYN,KAAKI,MAAME,WACvBU,mBAAoBhB,KAAKI,MAAMY,mBAC/BT,aAAcP,KAAKI,MAAMqG,iBACzBjG,UAAWR,KAAKQ,UAChB6C,WAAYrD,KAAKqD,WACjB5C,KAAMT,KAAKI,MAAMK,KACjBE,oBAAqBX,KAAKI,MAAMO,oBAChCD,aAAcV,KAAKI,MAAMM,eAW7BqO,EAJA/O,KAAKI,MAAMsH,sBACX1H,KAAKI,MAAMqJ,aACXzJ,KAAKI,MAAMoK,YAEawE,EAGtB3N,EAAAC,EAAAC,cAAC2N,EAAD,CACEvO,oBAAqBX,KAAKI,MAAMO,oBAChCD,aAAcV,KAAKI,MAAMM,aACzB0D,UAAWpE,KAAKI,MAAMgE,YAM1B/C,EAAAC,EAAAC,cAAC4N,EAAA,EAAD,CAAQC,SAAUC,wBAChBhO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAChBH,EAAAC,EAAAC,cAAA,OAAKuB,IAAKwM,IAAM9N,UAAU,WAAWyB,IAAI,SACzC5B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,qBAEFH,EAAAC,EAAAC,cAACK,EAAAN,EAAD,KACED,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAKQ,GAAI,IACTT,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAKQ,GAAI,EAAGN,UAAU,cACnBsN,GAEHzN,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAKQ,GAAI,IACTT,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAKQ,GAAI,GAAIiN,GACb1N,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAKQ,GAAI,cAnfHqB,aCNZoM,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACTzI,KAAK,SAAA6I,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBhQ,QACf2P,UAAUC,cAAcO,WAK1B7G,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrB6G,MAAM,SAAA/C,GACL/D,QAAQ+D,MAAM,4CAA6CA,KCzEjEgD,IAASC,OAAOrP,EAAAC,EAAAC,cAACoP,EAAD,MAASC,SAASC,eAAe,SDclC,WACb,GAA6C,kBAAmBd,UAAW,CAGzE,GADkB,IAAIe,IAAIzB,uBAAwBI,OAAOC,UAC3CqB,SAAWtB,OAAOC,SAASqB,OAIvC,OAGFtB,OAAOuB,iBAAiB,OAAQ,WAC9B,IAAMlB,EAAK,GAAAmB,OAAM5B,uBAAN,sBAEPE,GAiDV,SAAiCO,GAE/BoB,MAAMpB,GACHzI,KAAK,SAAA8J,GAGkB,MAApBA,EAASC,SACuD,IAAhED,EAASE,QAAQC,IAAI,gBAAgBC,QAAQ,cAG7CxB,UAAUC,cAAcwB,MAAMnK,KAAK,SAAA6I,GACjCA,EAAauB,aAAapK,KAAK,WAC7BoI,OAAOC,SAASgC,aAKpB7B,EAAgBC,KAGnBU,MAAM,WACL9G,QAAQC,IACN,mEArEAgI,CAAwB7B,GAIxBC,UAAUC,cAAcwB,MAAMnK,KAAK,WACjCqC,QAAQC,IACN,+GAMJkG,EAAgBC,MCzCxB8B","file":"static/js/main.a379883d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chainlink-link-logo.187cdcc7.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJEMTFFMDQ1NEZCMTFFQUFDRENGOTUxOEQ2RTg2QkEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJEMTFFMDM1NEZCMTFFQUFDRENGOTUxOEQ2RTg2QkEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIwMjAgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9IkQyNjNERDQwOEVDRUFEMzI5NkMxQkQ0ODhENzkwRkIyIiBzdFJlZjpkb2N1bWVudElEPSJEMjYzREQ0MDhFQ0VBRDMyOTZDMUJENDg4RDc5MEZCMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmL8C7sAAA37SURBVHjarFppkFTVFT7vvqX3ZbpnZQaGfVhk32QxLIpCiAomRkATEyWgATRljGVl0x+pWGqkLANFohh3BAs0BgkKBEUQRESBAMM2zDAMszB7r6/fmnNeMyMIw/TreKsuDD2v773nnu985zvnwZ2sPAdXDFMHQXSBBh6orNHBNACcDh5UTQeG/4ineIjGOSjIS0HIzcOZOgfEk+qAZFKZ2NDCj1ZUY0A8CcXJlFmkauCiJSWBS7mcUOuU4LzDwZ8qCOkHXZK4pzBPOlGUr0BbOwf1TQLwYgp8LgMYE8AwTVAVhmcBKO3DQBR10DQNV+OuOLIANgauaw2vi8ONOGhph37lp/X5p6uTt7XG9PHJJD4DKv7B4aZ4eJEDnqW/g0b52mNmrmbAcNPUZx/BZ9wuBcIB/UCfEmNTcZ64NuDjTgHHXbZXpiNjQwxc2IN368LDnaw2Rh86qT9yvsG8O5IwwYGHdkoc+Dxw1duiwfP4Xb7jd+m/dfT0+QvqmDPnYUzAYz5ZXKCvG9yXWzGolNuv6hxEE+Z3ZwjdDF1SXg4HF5ohd8c+7aljZ8xFqZQJHjcHIT8H2Q7yltfNwIc/K4iY45Xq/Kpabn5lDffqpJHs8XCQa2hsysw73LViRDE8UNeoI2YZnKjS52/fp61qajVCQR+HsLHv/m4Pg3eCMQVtURNy/BCZNlZYNqhUekNWDcgvZuCQuo4R1iWU0O1BP8LBycHWPcrz73ykvB1PGKGCEOJfyNwIOlxb1ICUYnbGy7W8LyAE89H7cgr873+svb7t89Qqp4ODgJezoNjVYHT73566ruONmCDLHLy7Tflg99fawxiIGAOcFSt2oNPSbsDIMhEKwjzEkmZHLHcbj16ErR8Pv++I9ssN2+St5IjcIBlD1lw5mclccOnUkS3DYQ/EZR6ee1XeeeS0Pqcwl9nyQocnmtsM3JzBY/cFYOQgCdrRM5muQc/RngVhBuUVxswXXknuTSQAwkEHokUkQr9s4glzoGMaQg74coLAO3Lg7xuFLSer1O8V5bKs6JCeb27XYcmdPmQ1Bv17CdC/pwCtEbw9zh7d98hncOSkev2q17QdgumBgNsNnO5EL7i+mbwZB5rMiIOTxcCP3P7m+8kXvjiUmlVcwGcV0ASpmgYNbhjjgDFDHFZ8ED1PHYebszRD2RkEtZJCAQ4cVaa//l7kRa9oAG9gosaFOibjOAOsiTgrzAXYvV+Z+++dyvKiPD4jPF8NUnGMBVHg4MEf+zuSIbSgJ8r6iGiYBK3oKcbZX7con4etn6V+sWOfeldujgCazhBm6cmishsiSTdCyw0nzjk96z6E9ZTYJCk7eqUNyRsL53igR146TZEXaK0EGnjDaCfk5vBWsrNzUfR9SUjnnXe3J9fWNMl+f0AFnVPAYArGiK4irFRwCxp8tDO5+kKzJgUxyRmGfSPoli804833FmH+LO8VBtLhw2gEQS4pG7YviiBGZ8NcxjbtUF6WBIbrcqgFUTIlZBF1kQMOn+QGHDim/SQ3xLIyggZqSjysgZDyXRU65BmCFcXNIIQZUbNdiNHZcjGXHTiq/ejQcW6IS3JizhGBJWUGiop8fVh7mrDsFLOXG9X1Gtwy2QmjBju6fK4j0CnwSVTKSAR2Q9GBxJFSTdh9QP5LPG5CDJU4K8hLIN/HC0+dVeYFvLythHcpbCK4IGXfxT/0dQu/VswnfUtEmDBcsrI+ZOGVoI+H09Xq7NpGuWc4gDESxM3P1Bj3t0XBUrHZaqTaRg1+PteLioDPIHLJcAMmjXRAMTJRJGbaZkjSepEYQEV1aonfi/RbcU6C42dggdNhrW8/wBFStRd0GIWZ+9apnowNJwbzexl8b4wT4WaiLLKfcB145ooa7q62GGZ2lA09L7ToQ92O7LyhqKRYTVg633dNOH37xtlFHTaiTIJhAzDwI7r1mZ1BBV5Ds9G/4qwygLW2pW7EshQEgcsuwOs0mDvDDQNLpS6fEzGoScG6HFwHstKFFXpBxTl1rNPKD4mkPYhRsUbJtzWiz2DnGtjYbEBFG1K2Lspj8LPbu/YG3fTegzJ8dVShDa0De12s88AkJEsKBJg0wmHFjf1hQkMrN0pIKXp/jmPZfJ8SEzzxYADczsuvUddNDH7dmkSTDS0GEooK9U0aFOOhe6JuIllPKEgkDYu5rkdDTlSpWPpSCcEyTpY84jYaNYYKCKseopANpHRkHQmmj3N1fi6nDOsgdU26RcdUJNGhqLbweZjVjalEg84hHMkQMqgoX7DyCT1DEHtrc9yqEgU+Q/bCnII25KMhZrFd2o3LptUlefjutChsjxnIXBrUt+iQkKkZkT7YpQxDkzBNTEV5oA69Q5QdDvKWsu2Jnpow3AmVtRp8+qUM+aHMlDc5AZNqnkB9J563R3sEheULfHirAhw8kYJGhBjdIgW0H6vIax2go5lBcUKP0VqNrSnMBwQ9HcaiOj5Xr0MjXkoHOXSHDpRGDsF2aODuAYQJHf7wKQVjIN2/ckhgqwDreMx1kc00jKuDx2UIYMYWebCtwRhCRNZ0e5TnQv5+Y1MMVq+PWvDIy2HpGDDt8x95h6BIU9E4+PKYimWADm5XZpYQTPFMSYaMU6OomW9vKWN8fArWFZXnVVjxWgTe+08Ck5tuBTBVgpnqNSq+BJ6DNoyxihodFbhq9clItqSUzNagPIR7NjGvE+pUzd4NEq4LUO6/9ETYkuTrtsRh5doo7NiXtJ6hQCXPXQ1m9BExEinYJLIc3f6R05rFdLOnuOCm610QQ0o2MrwNTaMyGhqZKAkVdiscgtGGbQnrJp9/LAS/WxzAJUxY/U4U1myMwsHyFPgw8RH1drLWRalCHqP+FAX2sTManKrWkIZ5q4a5dZoL9mPibMK8Q4ZmakjQzx/l7130m4ITZ83bnQ7OVh4hSPzrkwTMmuyCCcOcMG28E4OUg08PpOCzgylLOgR9DHoXi/gz5hesVchL7VETqmopQWqWUr55khMN8MCQfiK8iXF3AA3JC2Xe9CCt17cH9xL33o6osHFbUqUMaYeGyRhKfr2KeFj9+9zOzw8hHVNS27qXcgGDuTe6oRfmiS/+KyN80CCEEl3a+GGSlc3zQ4Llpd1fybBxWxxyAny3HclLFQQZPGuKu4z/4rVqY8K8W8c1NGsD7XjFomEv9YQ1TEgGjB2als+FuQLMnOiC0mLeyuJbdslI1To0tZmYGwxL6d42zY2qwNm5Vh0yH0GV59PiMtORkDEew+z0uGH8k5btZX31Z5IpsF3cEIP17iHAug8TsA9v/NIxe7Ib/vaHXFiGibO5TbfodcH3PbBwjhf6lAiApYNV49OWmz9NQixhWi1ZOz1lglVBCNZjFkq/VhhY6vgsFJCtRholNxu60ZIqYYTDs69EYM2TIgVe5+89mL0X3eGDiQihKpQeFC9tUd1SART4RAYf7U7CybOqxXR2mh5khNcNMHSA9CIRg+WRe0c/oA/sLf2RaDWbrkY4yEE7isRnXm2/6jND+0nWoRta9HQlaILVEy6vUJEcZMjxMVtosFIAlgT9e4kfDunrrhYE1zevFcZex54mqUCSw+6gw5Vi0O/+OoVYj13xe6ozqENDl0Tpgbrs7Vinb96ZsD6jG7WTAcijVLOPHiI9qmgGxqj2jSFLJz+gjB4sPEQ1BsuiPKFBsvzFDTGEitIlFKlbSAffsisBF5AEgugpO50bOlsTfm/kYOndof2Fo9G4jrRvXv6iZ+Zk98rcHCbTGyO7EKMb9WCB5ZQYPLWm3arjr2ZJCGX73kMpFIiKJeHtxIXVdorR2yzOnDlRuk/XKBToBdK3DLlz8CLzjpuEATHEOzXS7LIYZexCLH2ranX469r2y4ykA4fw9s+e12A75hgvqgOe2TOCXvZEYjrMu8lzz8BSZ3tK5bE6FVA9C1e+entkxrKa2VMc99Ri4rJqhyzipXexAO9/koRP9ic7uyikZslLH2BcKMiOHhdnu/dLpfKNE13/mD7Rs7Yxiglc4oET0/Oqd/L8PUvfGnud9FxNvW7fEhKFjPhdgBVvRCy6JW1Gdf32z5NQhR4JBe33l+nt18hBjl1zb/bf3xShHjMHsvrN7NK563+1/NFhZeKa8/V6p2vtds2J65+9SMmVaMAe1GBkRKZFS8eWFLNBH3w5b4Znmgfdm0BCElGe8OolMweGd7lQ+dYtm6Yv/IELMT+F9JDdkphEIxlAEr38jGoJSbeTZWSHFRNGuonXt4T/eNQgYWo4KBoOLNJJ4nMXm34ds9tw2/Drhx6fOFxcSD2seNL+y5lcZKZdqIiprRr0ZtbmYRdbqpSgx18nvXTLZGkGhd+19s+IN15esvztudMd/TEJNTS2mGmNxGVmCI1QgFliUDe69wI909xugiBA/LapzvtumeRcTK89qHNzrZSQMQH+6Y6lFQtmC8Xjh7ElpMlaIpkblAmMyACKBRkVwJA+3Jtzp4llI8rEV6jVJKe6z2tcH7jb9sZ/3rLKe/iEsfhcg/ZcLJHuilsxxOznHboUyg/0PyxKCtjGfiVsRa8Cbg9ZZwBPb2tR4uhYx6iAugr6FjtRvhvfjSGdBm1eKdU1a5OrarkHsfK7k9xPkUz/BUoU0m92O+QO0S15kA5P5SlREmk7JITD4aD5z7wgW9evp1RuGDrEUJtRO9XtFvCxzAwR/h9I/HbOMhJVH9N8fP1KR0IxfhpLcCNQ/wyVFVaIkMjDw0vpjjwkvW6uGXNXvd/Pl/ucxkGfW9iLTHREklQrY5Oi0M30qzi7kP2fAAMAbsWiwpMvbp4AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/order-book-logo.3f4b54c2.png\";","import React, { Component } from \"react\";\nimport tokenLogo from \"./chainlink-link-logo.png\";\nimport ethLogo from \"./eth-logo.png\";\nimport \"./OrderForm.css\";\nimport Col from \"react-bootstrap/lib/Col\";\nimport Row from \"react-bootstrap/lib/Row\";\n\nclass BuyForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      output: \"0\",\n      ethBalance: props.ethBalance,\n      tokenBalance: props.tokenBalance,\n      buyTokens: props.buyTokens,\n      web3: props.web3,\n      linkEthPrice: props.linkEthPrice,\n      priceFeedRefreshing: props.priceFeedRefreshing,\n      quantity: 0,\n      limitPrice: 0,\n      convertToFloat: props.convertToFloat,\n      ethBalanceLoading: props.ethBalanceLoading,\n      linkBalanceLoading: props.linkBalanceLoading,\n      calculateOutputValue: props.calculateOutputValue,\n    };\n  }\n\n  render() {\n    let exchangeRateDisplay = this.state.priceFeedRefreshing\n      ? \"Loading...\"\n      : \"1 LINK = \" + this.state.linkEthPrice + \" ETH\";\n\n    let limitPriceInputDisabled = this.state.ethBalanceLoading;\n    let quantityInputDisabled = this.state.ethBalanceLoading;\n\n    return (\n      <form\n        className=\"mb-3\"\n        onSubmit={(event) => {\n          event.preventDefault();\n\n          let quantity = this.state.output;\n          let limitPrice = this.state.limitPrice;\n          this.state.buyTokens(quantity, limitPrice);\n        }}\n      >\n        <Row>\n          <Col md={6}>\n            <label className=\"float-left text-muted\">\n              <b>Input</b>\n            </label>\n          </Col>\n          <Col md={6}>\n            <label className=\"float-right text-muted\">\n              Balance:&nbsp;{\" \"}\n              {this.state.web3.utils.fromWei(\n                this.state.ethBalance.toString(),\n                \"Ether\"\n              )}\n            </label>\n          </Col>\n        </Row>\n        <Row className=\"input-group mb-4 order-display\">\n          <Col md={12}>\n            <input\n              type=\"text\"\n              onChange={(event) => {\n                const limitPrice = event.target.value;\n                const quantity = parseFloat(\n                  limitPrice / 0.00001 //this.state.linkEthPrice\n                ).toFixed(8);\n                this.setState({\n                  limitPrice,\n                  output: quantity,\n                });\n              }}\n              ref={(input) => {\n                this.input = input;\n              }}\n              className=\"form-control form-control-lg order-input\"\n              placeholder=\"ETH\"\n              required\n              disabled={limitPriceInputDisabled}\n            />\n            <div className=\"input-group-append\">\n              <div className=\"input-group-text\">\n                <img src={ethLogo} height=\"32\" alt=\"\" />\n                ETH\n              </div>\n            </div>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={6}>\n            <label className=\"float-left text-muted\">\n              <b>Output</b>\n            </label>\n          </Col>\n          <Col md={6}>\n            <label className=\"float-right text-muted\">\n              Balance:&nbsp;\n              {this.state.web3.utils.fromWei(\n                this.state.tokenBalance.toString(),\n                \"Ether\"\n              )}\n            </label>\n          </Col>\n        </Row>\n        <div className=\"input-group mb-4 order-display\">\n          <input\n            type=\"text\"\n            className=\"form-control form-control-lg\"\n            placeholder=\"0 LINK\"\n            value={\"\" + this.state.output + \" LINK\"}\n            disabled\n          />\n          <div className=\"input-group-append\">\n            <div className=\"input-group-text\">\n              <img src={tokenLogo} height=\"32\" alt=\"\" />\n              LINK\n            </div>\n          </div>\n        </div>\n        <div className=\"mb-5\">\n          <span className=\"float-left text-muted\">Exchange Rate</span>\n          <span className=\"float-right text-muted\">{exchangeRateDisplay}</span>\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary btn-block btn-lg\">\n          PLACE ORDER\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default BuyForm;\n","import React, { Component } from \"react\";\nimport tokenLogo from \"./chainlink-link-logo.png\";\nimport ethLogo from \"./eth-logo.png\";\nimport \"./OrderForm.css\";\nimport Col from \"react-bootstrap/lib/Col\";\nimport Row from \"react-bootstrap/lib/Row\";\n\nclass SellForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      output: \"0\",\n      ethBalance: props.ethBalance,\n      tokenBalance: props.tokenBalance,\n      sellTokens: props.sellTokens,\n      web3: props.web3,\n      linkEthPrice: props.linkEthPrice,\n      priceFeedRefreshing: props.priceFeedRefreshing,\n      limitPrice: 0,\n      convertToFloat: props.convertToFloat,\n      ethBalanceLoading: props.ethBalanceLoading,\n      linkBalanceLoading: props.linkBalanceLoading,\n      calculateOutputValue: props.calculateOutputValue,\n    };\n  }\n\n  render() {\n    let exchangeRateDisplay = this.state.priceFeedRefreshing\n      ? \"Loading...\"\n      : \"1 ETH = \" + 1 / this.state.linkEthPrice + \" LINK\";\n\n    let limitPriceInputDisabled = this.state.ethBalanceLoading;\n    let quantityInputDisabled = this.state.ethBalanceLoading;\n\n    return (\n      <form\n        className=\"mb-3\"\n        onSubmit={(event) => {\n          event.preventDefault();\n\n          let quantity = this.state.output;\n          let limitPrice = this.state.limitPrice;\n          this.state.sellTokens(quantity, limitPrice);\n        }}\n      >\n        <Row>\n          <Col md={6}>\n            <label className=\"float-left text-muted\">\n              <b>Input</b>\n            </label>\n          </Col>\n          <Col md={6}>\n            <label className=\"float-right text-muted\">\n              Balance:&nbsp;\n              {this.state.web3.utils.fromWei(\n                this.state.tokenBalance.toString(),\n                \"Ether\"\n              )}\n            </label>\n          </Col>\n        </Row>\n        <Row className=\"input-group mb-4 order-display\">\n          <Col md={12}>\n            <input\n              type=\"text\"\n              onChange={(event) => {\n                const limitPrice = event.target.value;\n                const quantity = parseFloat(\n                  limitPrice * 0.0001 //this.state.linkEthPrice\n                ).toFixed(18);\n                this.setState({\n                  limitPrice,\n                  output: quantity,\n                });\n              }}\n              ref={(input) => {\n                this.input = input;\n              }}\n              className=\"form-control form-control-lg order-input\"\n              placeholder=\"LINK\"\n              required\n            />\n            <div className=\"input-group-append\">\n              <div className=\"input-group-text\">\n                <img src={tokenLogo} height=\"32\" alt=\"\" />\n                LINK\n              </div>\n            </div>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={6}>\n            <label className=\"float-left text-muted\">\n              <b>Output</b>\n            </label>\n          </Col>\n          <Col md={6}>\n            <label className=\"float-right text-muted\">\n              Balance:&nbsp;\n              {this.state.web3.utils.fromWei(this.props.ethBalance.toString())}\n            </label>\n          </Col>\n        </Row>\n        <div className=\"input-group mb-4 order-display\">\n          <input\n            type=\"text\"\n            className=\"form-control form-control-lg\"\n            placeholder=\"0\"\n            value={\"\" + this.state.output + \" ETH\"}\n            disabled\n          />\n          <div className=\"input-group-append\">\n            <div className=\"input-group-text\">\n              <img src={ethLogo} height=\"32\" alt=\"\" />\n              ETH\n            </div>\n          </div>\n        </div>\n        <div className=\"mb-5\">\n          <span className=\"float-left text-muted\">Exchange Rate</span>\n          <span className=\"float-right text-muted\">{exchangeRateDisplay}</span>\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary btn-block btn-lg\">\n          PLACE ORDER\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default SellForm;\n","import React, { Component } from \"react\";\nimport BuyForm from \"./BuyForm\";\nimport SellForm from \"./SellForm\";\nimport \"./FormToggle.css\";\n\nclass FormToggle extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentForm: \"buy\",\n      ethBalance: props.ethBalance,\n      tokenBalance: props.tokenBalance,\n      buyTokens: props.buyTokens,\n      sellTokens: props.sellTokens,\n      buySelected: true,\n      web3: props.web3,\n      linkEthPrice: props.linkEthPrice,\n      priceFeedRefreshing: props.priceFeedRefreshing,\n      linkBalanceLoading: props.linkBalanceLoading,\n      ethBalanceLoading: props.ethBalanceLoading,\n    };\n  }\n\n  convertToFloat(number) {\n    return parseFloat(number).toFixed(8);\n  }\n\n  calculateOutputValue(quantity, price, actualPrice) {\n    return (quantity * price * actualPrice) / 1e8;\n  }\n\n  render() {\n    let content;\n    if (this.state.currentForm === \"buy\") {\n      content = (\n        <BuyForm\n          ethBalance={this.state.ethBalance}\n          tokenBalance={this.state.tokenBalance}\n          buyTokens={this.state.buyTokens}\n          web3={this.state.web3}\n          linkEthPrice={this.state.linkEthPrice}\n          priceFeedRefreshing={this.state.priceFeedRefreshing}\n          convertToFloat={this.convertToFloat}\n          calculateOutputValue={this.calculateOutputValue}\n          linkBalanceLoading={this.state.linkBalanceLoading}\n          ethBalanceLoading={this.state.ethBalanceLoading}\n        />\n      );\n    } else {\n      content = (\n        <SellForm\n          ethBalance={this.state.ethBalance}\n          tokenBalance={this.state.tokenBalance}\n          sellTokens={this.state.sellTokens}\n          web3={this.state.web3}\n          linkEthPrice={this.state.linkEthPrice}\n          priceFeedRefreshing={this.state.priceFeedRefreshing}\n          convertToFloat={this.convertToFloat}\n          calculateOutputValue={this.calculateOutputValue}\n          linkBalanceLoading={this.state.linkBalanceLoading}\n          ethBalanceLoading={this.state.ethBalanceLoading}\n        />\n      );\n    }\n\n    const buySelectionStyle =\n      this.state.currentForm === \"buy\" ? \"button-selected\" : \"\";\n\n    const sellSelectionStyle =\n      this.state.currentForm === \"buy\" ? \"\" : \"button-selected\";\n\n    return (\n      <div id=\"content\" className=\"mt-3\">\n        <div className=\"d-flex justify-content-between mb-3 form-toggle-buttons\">\n          <button\n            className={\"btn btn-light \" + buySelectionStyle}\n            onClick={(event) => {\n              this.setState({ currentForm: \"buy\" });\n            }}\n          >\n            Buy\n          </button>\n          <span className=\"text-muted\">\n            &nbsp; &lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt; &nbsp;\n          </span>\n          <button\n            className={\"btn btn-light \" + sellSelectionStyle}\n            onClick={(event) => {\n              this.setState({ currentForm: \"sell\" });\n            }}\n          >\n            Sell\n          </button>\n        </div>\n\n        <div className=\"card mb-4 dex-main\">\n          <div className=\"card-body\">{content}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FormToggle;\n","import React, { Component } from \"react\";\nimport { OrderBook } from \"@lab49/react-order-book\";\nimport Col from \"react-bootstrap/lib/Col\";\nimport Row from \"react-bootstrap/lib/Row\";\n\nclass OrderBookPanel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      priceFeedRefreshing: props.priceFeedRefreshing,\n      linkEthPrice: props.linkEthPrice,\n      orderBook: props.orderBook,\n      ethBalanceLoading: props.ethBalanceLoading,\n      linkBalanceLoading: props.linkBalanceLoading,\n    };\n  }\n\n  convertToFloat(number) {\n    return parseFloat(number).toFixed(8);\n  }\n\n  render() {\n    let linkEthPriceDisplay;\n    if (this.state.priceFeedRefreshing) {\n      linkEthPriceDisplay = \"Loading asset prices...\";\n    } else {\n      linkEthPriceDisplay = (\n        <Row>\n          <Col md={5}>\n            {/* ETH/USD:{\" \"}\n                  {this.state.ethPriceLoading\n                    ? \"Fetching...\"\n                    : \"$\" + this.state.ethPrice} */}\n          </Col>\n          <Col md={2}></Col>\n          <Col md={5}>LINK / ETH: {this.state.linkEthPrice}</Col>\n        </Row>\n      );\n    }\n\n    return (\n      <div>\n        <Row>\n          <Col md={5}>\n            {/* ETH/USD:{\" \"}\n                  {this.state.ethPriceLoading\n                    ? \"Fetching...\"\n                    : \"$\" + this.state.ethPrice} */}\n          </Col>\n          <Col md={2}></Col>\n          <Col md={5}>LINK / ETH: {this.state.linkEthPrice}</Col>\n        </Row>\n        <Row className=\"order-book\">\n          <div className=\"orders-list\">\n            <OrderBook\n              showSpread={false}\n              applyBackgroundColor={true}\n              book={this.state.orderBook}\n              stylePrefix={\"\"}\n              showHeaders={true}\n            />\n          </div>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default OrderBookPanel;\n","export const AggregatorV3InterfaceABI = [\n  {\n    inputs: [],\n    name: \"decimals\",\n    outputs: [{ internalType: \"uint8\", name: \"\", type: \"uint8\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"description\",\n    outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint80\", name: \"_roundId\", type: \"uint80\" }],\n    name: \"getRoundData\",\n    outputs: [\n      { internalType: \"uint80\", name: \"roundId\", type: \"uint80\" },\n      { internalType: \"int256\", name: \"answer\", type: \"int256\" },\n      { internalType: \"uint256\", name: \"startedAt\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"updatedAt\", type: \"uint256\" },\n      {\n        internalType: \"uint80\",\n        name: \"answeredInRound\",\n        type: \"uint80\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"latestRoundData\",\n    outputs: [\n      { internalType: \"uint80\", name: \"roundId\", type: \"uint80\" },\n      { internalType: \"int256\", name: \"answer\", type: \"int256\" },\n      { internalType: \"uint256\", name: \"startedAt\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"updatedAt\", type: \"uint256\" },\n      {\n        internalType: \"uint80\",\n        name: \"answeredInRound\",\n        type: \"uint80\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"version\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n","export const ChainlinkTokenABI = [\n  {\n    constant: true,\n    inputs: [],\n    name: \"name\",\n    outputs: [{ name: \"\", type: \"string\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { name: \"_spender\", type: \"address\" },\n      { name: \"_value\", type: \"uint256\" },\n    ],\n    name: \"approve\",\n    outputs: [{ name: \"\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"totalSupply\",\n    outputs: [{ name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { name: \"_from\", type: \"address\" },\n      { name: \"_to\", type: \"address\" },\n      { name: \"_value\", type: \"uint256\" },\n    ],\n    name: \"transferFrom\",\n    outputs: [{ name: \"\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"decimals\",\n    outputs: [{ name: \"\", type: \"uint8\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { name: \"_to\", type: \"address\" },\n      { name: \"_value\", type: \"uint256\" },\n      { name: \"_data\", type: \"bytes\" },\n    ],\n    name: \"transferAndCall\",\n    outputs: [{ name: \"success\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { name: \"_spender\", type: \"address\" },\n      { name: \"_subtractedValue\", type: \"uint256\" },\n    ],\n    name: \"decreaseApproval\",\n    outputs: [{ name: \"success\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [{ name: \"_owner\", type: \"address\" }],\n    name: \"balanceOf\",\n    outputs: [{ name: \"balance\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"symbol\",\n    outputs: [{ name: \"\", type: \"string\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { name: \"_to\", type: \"address\" },\n      { name: \"_value\", type: \"uint256\" },\n    ],\n    name: \"transfer\",\n    outputs: [{ name: \"success\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { name: \"_spender\", type: \"address\" },\n      { name: \"_addedValue\", type: \"uint256\" },\n    ],\n    name: \"increaseApproval\",\n    outputs: [{ name: \"success\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [\n      { name: \"_owner\", type: \"address\" },\n      { name: \"_spender\", type: \"address\" },\n    ],\n    name: \"allowance\",\n    outputs: [{ name: \"remaining\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, name: \"from\", type: \"address\" },\n      { indexed: true, name: \"to\", type: \"address\" },\n      { indexed: false, name: \"value\", type: \"uint256\" },\n      { indexed: false, name: \"data\", type: \"bytes\" },\n    ],\n    name: \"Transfer\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, name: \"owner\", type: \"address\" },\n      { indexed: true, name: \"spender\", type: \"address\" },\n      { indexed: false, name: \"value\", type: \"uint256\" },\n    ],\n    name: \"Approval\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, name: \"from\", type: \"address\" },\n      { indexed: true, name: \"to\", type: \"address\" },\n      { indexed: false, name: \"value\", type: \"uint256\" },\n    ],\n    name: \"Transfer\",\n    type: \"event\",\n  },\n];\n","export const OrderBookContractABI = [\n         {\n           inputs: [\n             {\n               internalType: \"string\",\n               name: \"_id\",\n               type: \"string\",\n             },\n             {\n               internalType: \"bool\",\n               name: \"_buy\",\n               type: \"bool\",\n             },\n             {\n               internalType: \"uint256\",\n               name: \"_price\",\n               type: \"uint256\",\n             },\n             {\n               internalType: \"uint256\",\n               name: \"_quantity\",\n               type: \"uint256\",\n             },\n             {\n               internalType: \"address\",\n               name: \"_account\",\n               type: \"address\",\n             },\n             {\n               internalType: \"address\",\n               name: \"_asset\",\n               type: \"address\",\n             },\n           ],\n           name: \"createOrder\",\n           outputs: [],\n           stateMutability: \"nonpayable\",\n           type: \"function\",\n         },\n         {\n           inputs: [],\n           name: \"getAsks\",\n           outputs: [\n             {\n               components: [\n                 {\n                   internalType: \"string\",\n                   name: \"orderId\",\n                   type: \"string\",\n                 },\n                 {\n                   internalType: \"address\",\n                   name: \"maker\",\n                   type: \"address\",\n                 },\n                 {\n                   internalType: \"address\",\n                   name: \"makeAsset\",\n                   type: \"address\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"makeAmount\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"address\",\n                   name: \"taker\",\n                   type: \"address\",\n                 },\n                 {\n                   internalType: \"address\",\n                   name: \"takeAsset\",\n                   type: \"address\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"takeAmount\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"salt\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"startBlock\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"endBlock\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"price\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"bool\",\n                   name: \"buy\",\n                   type: \"bool\",\n                 },\n               ],\n               internalType: \"struct OrderBook.Order[]\",\n               name: \"\",\n               type: \"tuple[]\",\n             },\n           ],\n           stateMutability: \"view\",\n           type: \"function\",\n         },\n         {\n           inputs: [],\n           name: \"getBids\",\n           outputs: [\n             {\n               components: [\n                 {\n                   internalType: \"string\",\n                   name: \"orderId\",\n                   type: \"string\",\n                 },\n                 {\n                   internalType: \"address\",\n                   name: \"maker\",\n                   type: \"address\",\n                 },\n                 {\n                   internalType: \"address\",\n                   name: \"makeAsset\",\n                   type: \"address\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"makeAmount\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"address\",\n                   name: \"taker\",\n                   type: \"address\",\n                 },\n                 {\n                   internalType: \"address\",\n                   name: \"takeAsset\",\n                   type: \"address\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"takeAmount\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"salt\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"startBlock\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"endBlock\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"uint256\",\n                   name: \"price\",\n                   type: \"uint256\",\n                 },\n                 {\n                   internalType: \"bool\",\n                   name: \"buy\",\n                   type: \"bool\",\n                 },\n               ],\n               internalType: \"struct OrderBook.Order[]\",\n               name: \"\",\n               type: \"tuple[]\",\n             },\n           ],\n           stateMutability: \"view\",\n           type: \"function\",\n         },\n       ];\n","import React, { Component } from \"react\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport logo from \"./order-book-logo.png\";\nimport \"./App.css\";\nimport Web3 from \"web3\";\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\nimport Col from \"react-bootstrap/lib/Col\";\nimport Row from \"react-bootstrap/lib/Row\";\nimport FormToggle from \"./FormToggle\";\nimport OrderBookPanel from \"./OrderBookPanel\";\nimport { AggregatorV3InterfaceABI } from \"./abis/AggregatorV3InterfaceABI\";\nimport { ChainlinkTokenABI } from \"./abis/ChainlinkTokenABI\";\nimport { OrderBookContractABI } from \"./abis/OrderBookContractABI\";\n\nconst uuidv4 = require(\"uuid/v4\");\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ethBalance: \"0\",\n      ethBalanceLoading: false,\n      tokenBalance: \"0\",\n      account: \"\",\n      loading: false,\n      sortedBids: [],\n      sortedAsks: [],\n      orderBook: {\n        asks: [[\"0\"]],\n        bids: [[\"0\"]],\n      },\n      priceFeedAddress: \"0x4d38a35C2D87976F334c2d2379b535F1D461D9B4\",\n      priceFeed: \"\",\n      priceFeedRefreshing: false,\n      priceFeedInitialLoad: false,\n      chainlinkTokenAddress: \"0x01BE23585060835E02B77ef475b0Cc51aA1e0709\",\n      chainlinkToken: \"\",\n      chainlinkBalance: \"0\",\n      linkBalanceLoading: false,\n      linkEthPrice: \"0\",\n      ethPrice: 0,\n      ethPriceLoading: false,\n      linkEthRefreshRate: 15000,\n      // orderBookContractAddress: \"0xfB08E370EcBD3d4f9E909caD14bCA4659E540FA7\", //ganache\n      orderBookContractAddress: \"0x7383deA1f066F424Fb3A989e4277Ade74F9d9ad1\", //rinkeby\n      orderBookContract: \"\",\n      orderBookIndex: {\n        quantity: 3,\n        price: 10,\n        isDeleted: 12,\n      },\n      bidTransactionPending: false,\n      bidTransactionComplete: false,\n      askTransactionPending: false,\n      askTransactionComplete: false,\n      bidsLoading: false,\n      asksLoading: false,\n    };\n  }\n\n  async componentWillMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n\n  async componentDidMount() {\n    //reload LINK/ETH price every 15 seconds\n    setInterval(this.loadLinkEthPrice, this.state.linkEthRefreshRate);\n  }\n\n  async loadWeb3() {\n    this.enableLoadingFlags();\n    const web3 = new Web3(Web3.givenProvider);\n    this.setState({ web3 });\n  }\n\n  async loadBlockchainData() {\n    //load web3\n    const web3 = this.state.web3;\n\n    //load price feed contract for LINK / ETH\n    this.loadPriceFeedContract();\n\n    //load user account\n    const accounts = await web3.eth.getAccounts();\n    this.setState({\n      account: accounts[0],\n    });\n\n    await this.loadOrderBookContract();\n    await this.loadEthBalance();\n    await this.loadChainlinkToken();\n    await this.loadTokenBalance();\n    await this.loadLinkEthPrice();\n    await this.loadOrderBook();\n  }\n\n  enableLoadingFlags() {\n    this.setState({\n      ethBalanceLoading: true,\n      linkBalanceLoading: true,\n      priceFeedInitialLoad: true,\n    });\n  }\n\n  loadPriceFeedContract() {\n    const web3 = this.state.web3;\n    const priceFeed = new web3.eth.Contract(\n      AggregatorV3InterfaceABI,\n      this.state.priceFeedAddress\n    );\n    this.setState({ priceFeed });\n  }\n\n  loadOrderBookContract() {\n    const web3 = this.state.web3;\n    const orderBookContract = new web3.eth.Contract(\n      OrderBookContractABI,\n      this.state.orderBookContractAddress\n    );\n    this.setState({ orderBookContract });\n  }\n\n  async loadChainlinkToken() {\n    const web3 = this.state.web3;\n    const chainlinkToken = new web3.eth.Contract(\n      ChainlinkTokenABI,\n      this.state.chainlinkTokenAddress\n    );\n    this.setState({ chainlinkToken });\n  }\n\n  loadTokenBalance = async () => {\n    const tokenBalance = await this.state.chainlinkToken.methods\n      .balanceOf(this.state.account)\n      .call();\n    this.setState({ chainlinkBalance: tokenBalance });\n    this.setState({ linkBalanceLoading: false });\n  };\n\n  loadOrderBook = async () => {\n    await this.getBids();\n    await this.getAsks();\n  };\n\n  loadEthBalance = async () => {\n    this.setState({ ethBalanceLoading: true });\n    const balance = await this.state.web3.eth\n      .getBalance(this.state.account)\n      .then((balance) => {\n        this.setState({ ethBalance: balance });\n        this.setState({\n          ethBalanceLoading: false,\n        });\n        return balance;\n      });\n  };\n\n  loadLinkEthPrice = async () => {\n    const web3 = this.state.web3;\n    if (!this.state.priceFeedInitialLoad) {\n      this.setState({ priceFeedRefreshing: true });\n    }\n    if (this.state.priceFeed) {\n      this.state.priceFeed.methods\n        .latestRoundData()\n        .call()\n        .then((priceResponse) => {\n          if (priceResponse.answer && priceResponse.answer._hex) {\n            const linkEthPrice = web3.utils.fromWei(priceResponse.answer._hex);\n            const formattedLinkEthPrice = parseFloat(linkEthPrice).toFixed(18);\n            this.setState({ linkEthPrice: formattedLinkEthPrice.toString() });\n            if (this.state.priceFeedInitialLoad) {\n              this.setState({ priceFeedInitialLoad: false });\n            } else {\n              this.setState({ priceFeedRefreshing: false });\n            }\n          }\n        });\n    }\n  };\n\n  formatOrderQuantity = (number, length) => {\n    var num = parseFloat(number).toFixed(5);\n    var stringNum = \"\" + num;\n    while (stringNum.length < length) {\n      stringNum = \"0\" + stringNum;\n    }\n\n    return stringNum;\n  };\n\n  spacer = () => {\n    return \"\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\";\n    // \"\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\" +\n    // \"\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\" +\n    // \"\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\\xa0\"\n  };\n\n  async executeBuyTokenTransaction(tokenAmount, bidPriceInEth) {\n    const priceInWei = this.state.web3.utils.toWei(bidPriceInEth);\n    const hexPrice = this.state.web3.utils.toHex(priceInWei);\n    const quantityInWei = this.state.web3.utils.toWei(tokenAmount.toString());\n    const isBuy = true;\n    const account = this.state.account;\n    const asset = this.state.chainlinkTokenAddress;\n    const uuid = uuidv4();\n\n    // params: string memory _id, bool _buy, uint _price, uint _quantity, address _account, address _asset\n    const gas = await this.state.orderBookContract.methods\n      .createOrder(uuid, isBuy, hexPrice, quantityInWei, account, asset)\n      .estimateGas();\n    const buyTransaction = await this.state.orderBookContract.methods\n      .createOrder(uuid, isBuy, hexPrice, quantityInWei, account, asset)\n      .send({\n        from: this.state.account,\n        gas,\n      })\n      .once(\"transactionHash\", (hash) => {\n        console.log(\"hash:\" + hash);\n        this.setState({ bidTransactionPending: true });\n      })\n      .on(\"confirmation\", (confNumber, receipt) => {\n        console.log(\"confNumber:\" + confNumber);\n        console.log(\"receipt:\" + receipt);\n        if (receipt && !this.state.bidTransactionComplete) {\n          this.setState({ bidTransactionComplete: true });\n          this.setState({ bidTransactionPending: false });\n          this.getBids();\n\n          console.log(\"Receipt returned\");\n        }\n      })\n      .on(\"error\", (error) => {\n        console.log(\"error:\" + error);\n      });\n  }\n\n  async executeSellTokenTransaction(tokenAmount, askPriceInEth) {\n    const priceInWei = this.state.web3.utils.toWei(askPriceInEth);\n    const hexPrice = this.state.web3.utils.toHex(priceInWei);\n    const quantityInWei = this.state.web3.utils.toWei(tokenAmount.toString());\n    const isBuy = false;\n    const account = this.state.account;\n    const asset = this.state.chainlinkTokenAddress;\n    const uuid = uuidv4();\n\n    // params: string memory _id, bool _buy, uint _price, uint _quantity, address _account, address _asset\n    const gas = await this.state.orderBookContract.methods\n      .createOrder(uuid, isBuy, hexPrice, quantityInWei, account, asset)\n      .estimateGas();\n    const buyTransaction = await this.state.orderBookContract.methods\n      .createOrder(uuid, isBuy, hexPrice, quantityInWei, account, asset)\n      .send({\n        from: this.state.account,\n        gas,\n      })\n      .once(\"transactionHash\", (hash) => {\n        console.log(\"hash:\" + hash);\n        this.setState({ askTransactionComplete: false });\n        this.setState({ askTransactionPending: true });\n      })\n      .on(\"confirmation\", (confNumber, receipt) => {\n        console.log(\"confNumber:\" + confNumber);\n        console.log(\"receipt:\" + receipt);\n        if (receipt && !this.state.askTransactionComplete) {\n          this.setState({ askTransactionComplete: true });\n          this.setState({ askTransactionPending: false });\n          this.getAsks();\n\n          console.log(\"Receipt returned\");\n        }\n      })\n      .on(\"error\", (error) => {\n        console.log(\"error:\" + error);\n      });\n  }\n\n  buyTokens = async (tokenAmount, bidPriceInEth) => {\n    if (tokenAmount && bidPriceInEth) {\n      await this.executeBuyTokenTransaction(tokenAmount, bidPriceInEth);\n    }\n  };\n\n  sellTokens = async (tokenAmount, askPriceInEth) => {\n    if (tokenAmount && askPriceInEth) {\n      await this.executeSellTokenTransaction(tokenAmount, askPriceInEth);\n    }\n  };\n\n  getBids = async () => {\n    if (this.state.orderBookContract) {\n      this.setState({\n        bidsLoading: true,\n      });\n      console.log(\"bids loading: \" + this.state.bidsLoading);\n      this.state.orderBookContract.methods\n        .getBids()\n        .call()\n        .then((bidArray) => {\n          if (bidArray) {\n            var asks = this.state.orderBook.asks;\n            var updatedBids = this.state.orderBook.bids;\n            updatedBids.length = 0;\n            updatedBids.push([\"0\"]);\n            this.setState({\n              asks: asks,\n              bids: updatedBids,\n            });\n            const bidOrders = this.mapResponseToOrders(bidArray);\n            const sortedBids = this.sortBids(bidOrders);\n            this.mapBidsToOrderBook(sortedBids, updatedBids);\n            this.setState({\n              orderBook: {\n                asks: asks,\n                bids: updatedBids,\n              },\n            });\n          }\n          this.setState({\n            bidsLoading: false,\n          });\n          console.log(\"bids loading: \" + this.state.bidsLoading);\n        });\n    }\n  };\n\n  getAsks = async () => {\n    if (this.state.orderBookContract) {\n      this.setState({\n        asksLoading: true,\n      });\n      this.state.orderBookContract.methods\n        .getAsks()\n        .call()\n        .then((askArray) => {\n          if (askArray) {\n            var bids = this.state.orderBook.bids;\n            var updatedAsks = this.state.orderBook.asks;\n            updatedAsks.length = 0;\n            updatedAsks.push([\"0\"]);\n            this.setState({\n              asks: updatedAsks,\n              bids: bids,\n            });\n            const askOrders = this.mapResponseToOrders(askArray);\n            const sortedAsks = this.sortBids(askOrders);\n            this.mapAsksToOrderBook(sortedAsks, updatedAsks);\n            this.setState({\n              orderBook: {\n                asks: updatedAsks,\n                bids: bids,\n              },\n            });\n            console.log(\"bids: \" + this.state.orderBook.bids);\n            console.log(\"asks: \" + this.state.orderBook.asks);\n          }\n          this.setState({\n            asksLoading: false,\n          });\n          console.log(\"asks loading: \" + this.state.asksLoading);\n        });\n    }\n  };\n\n  mapResponseToOrders(orderResponse) {\n    const orders = [];\n    const quantityIndex = this.state.orderBookIndex.quantity;\n    const priceIndex = this.state.orderBookIndex.price;\n    const deletedIndex = this.state.orderBookIndex.isDeleted;\n\n    orderResponse.forEach((element) => {\n      const quantityInWei = element[quantityIndex];\n      const bidQuantity = this.state.web3.utils.fromWei(\n        quantityInWei.toString()\n      );\n      const priceInWei = element[priceIndex];\n      const bidPrice = this.state.web3.utils.fromWei(priceInWei.toString());\n      if (!element[deletedIndex]) {\n        orders.push({\n          quantity: bidQuantity,\n          price: bidPrice,\n        });\n      }\n    });\n\n    return orders;\n  }\n\n  mapBidsToOrderBook(sortedBids, updatedBids) {\n    sortedBids.forEach((bid) => {\n      updatedBids.push([\n        bid.price + \" ETH\" + this.spacer(),\n        this.formatOrderQuantity(bid.quantity, 20) + \" LINK\",\n      ]);\n    });\n  }\n\n  mapAsksToOrderBook(sortedAsks, updatedAsks) {\n    sortedAsks.forEach((ask) => {\n      updatedAsks.push([\n        ask.price + \" ETH\" + this.spacer(),\n        this.formatOrderQuantity(ask.quantity, 20) + \" LINK\",\n      ]);\n    });\n  }\n\n  loadAsksDisplay(sortedAsks) {\n    var bids = this.state.orderBook.bids;\n    this.setState({\n      asks: [[\"0\"]],\n      bids: bids,\n    });\n    var updatedAsks = this.state.orderBook.asks;\n    sortedAsks.forEach((ask) => {\n      updatedAsks.push([\n        ask.price + \" ETH\" + this.spacer(),\n        this.formatOrderQuantity(ask.quantity, 20) + \" LINK\",\n      ]);\n    });\n    this.setState({\n      orderBook: {\n        asks: updatedAsks,\n        bids: bids,\n      },\n    });\n  }\n\n  sortBids(unsortedBids) {\n    const sorted = unsortedBids.sort(\n      (current, next) => next.price - current.price\n    );\n    return sorted;\n  }\n\n  sortAsks(unsortedAsks) {\n    const sorted = unsortedAsks.sort(\n      (current, next) => current.price - next.price\n    );\n    return sorted;\n  }\n\n  printFlagValues() {\n    console.log(\"askTransactionComplete: \" + this.state.askTransactionComplete);\n    console.log(\"askTransactionPending: \" + this.state.askTransactionPending);\n    console.log(\"asksLoading: \" + this.state.asksLoading);\n    console.log(\"bidTransactionComplete: \" + this.state.bidTransactionComplete);\n    console.log(\"bidTransactionPending: \" + this.state.bidTransactionPending);\n    console.log(\"bidsLoading: \" + this.state.bidsLoading);\n    console.log(\"ethBalanceLoading: \" + this.state.ethBalanceLoading);\n    console.log(\"linkBalanceLoading: \" + this.state.linkBalanceLoading);\n  }\n\n  render() {\n    let loadingContent = (\n      <a id=\"loader\" className=\"text-center\">\n        Loading...\n      </a>\n    );\n\n    let userPanelContent;\n\n    if (\n      this.state.ethBalanceLoading ||\n      this.state.linkBalanceLoading ||\n      this.state.priceFeedInitialLoad\n    ) {\n      userPanelContent = loadingContent;\n    } else {\n      userPanelContent = (\n        <FormToggle\n          ethBalanceLoading={this.state.ethBalanceLoading}\n          ethBalance={this.state.ethBalance}\n          linkBalanceLoading={this.state.linkBalanceLoading}\n          tokenBalance={this.state.chainlinkBalance}\n          buyTokens={this.buyTokens}\n          sellTokens={this.sellTokens}\n          web3={this.state.web3}\n          priceFeedRefreshing={this.state.priceFeedRefreshing}\n          linkEthPrice={this.state.linkEthPrice}\n        />\n      );\n    }\n    // this.printFlagValues();\n    let orderBookPanelContent;\n    if (\n      this.state.priceFeedInitialLoad ||\n      this.state.bidsLoading ||\n      this.state.asksLoading\n    ) {\n      orderBookPanelContent = loadingContent;\n    } else {\n      orderBookPanelContent = (\n        <OrderBookPanel\n          priceFeedRefreshing={this.state.priceFeedRefreshing}\n          linkEthPrice={this.state.linkEthPrice}\n          orderBook={this.state.orderBook}\n        />\n      );\n    }\n\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <img src={logo} className=\"App-logo\" alt=\"logo\" />\n            <h1 className=\"App-title\">ERC20 Order Book</h1>\n          </header>\n          <Row>\n            <Col md={1} />\n            <Col md={5} className=\"dex-window\">\n              {userPanelContent}\n            </Col>\n            <Col md={1} />\n            <Col md={4}>{orderBookPanelContent}</Col>\n            <Col md={1} />\n          </Row>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}